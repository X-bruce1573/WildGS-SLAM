# WildGS-SLAM 快速上手指南

## 📋 前置要求

- Ubuntu 20.04 LTS
- NVIDIA GPU (推荐RTX 4090, ≥24GB VRAM)
- CUDA 11.8
- 32GB+ RAM

## 🚀 一键安装

```bash
# 下载项目到 /workspace
cd /workspace
git clone https://github.com/GradientSpaces/WildGS-SLAM.git

# 运行自动化安装脚本
./wildgs_setup.sh
```

**安装脚本会自动完成：**
- ✅ 系统环境检查
- ✅ 安装所有依赖包
- ✅ 编译第三方库
- ✅ 下载预训练模型
- ✅ 创建便捷脚本

## 🎯 快速测试

### 1. 激活环境
```bash
./activate_wildgs.sh
```

### 2. 运行演示
```bash
./quick_test.sh
```

## 📊 基准测试

### 自动下载并测试TUM数据集
```bash
python wildgs_benchmark.py --datasets tum_rgbd --download
```

### 测试多个数据集
```bash
python wildgs_benchmark.py --datasets tum_rgbd wild_slam bonn_rgbd --download
```

### 查看测试报告
```bash
# 打开浏览器查看详细报告
firefox benchmark_results/benchmark_report.html
```

## 🎥 使用自定义数据

### 从视频提取帧 + 自动标定
```bash
python process_custom_data.py \
    your_video.mp4 \
    custom_dataset \
    --from-video \
    --fps 10 \
    --calibrate \
    --calib-images calibration_images/ \
    --sequence-name my_sequence
```

### 处理图像序列 + 手动内参
```bash
python process_custom_data.py \
    image_folder/ \
    custom_dataset \
    --manual-intrinsics 525.0 525.0 320.0 240.0 640 480 \
    --sequence-name my_sequence
```

### 运行自定义数据集
```bash
cd WildGS-SLAM
python run.py ../custom_dataset/my_sequence_config.yaml
```

## 📈 性能优化建议

### 内存不足时
```bash
# 编辑配置文件，降低分辨率
cam:
  H_out: 240  # 从480降到240
  W_out: 320  # 从640降到320
```

### 速度慢时
```bash
# 调整高斯数量
mapping:
  gaussians_start: 500     # 从1000降到500
  gaussians_end: 100000    # 从500000降到100000
```

## 🔧 故障排除

### CUDA问题
```bash
# 检查CUDA状态
nvidia-smi
nvcc --version

# 重新安装PyTorch
pip install torch==2.1.0 torchvision==0.16.0 --index-url https://download.pytorch.org/whl/cu118
```

### 第三方库编译失败
```bash
cd WildGS-SLAM/thirdparty/diff-gaussian-rasterization
rm -rf build
pip install -e .
```

### 验证安装
```bash
cd WildGS-SLAM
python -c "
import torch
import lietorch
import simple_knn
import diff_gaussian_rasterization
print('✅ 所有依赖库正常')
print(f'GPU: {torch.cuda.get_device_name(0)}')
"
```

## 📁 项目结构

```
/workspace/
├── WildGS-SLAM/                    # 主项目
├── wildgs_slam_env/                # Python虚拟环境
├── datasets/                       # 数据集目录
├── benchmark_results/              # 测试结果
├── custom_dataset/                 # 自定义数据集
├── wildgs_setup.sh                 # 自动安装脚本
├── wildgs_benchmark.py             # 基准测试脚本
├── process_custom_data.py          # 数据处理脚本
└── activate_wildgs.sh              # 环境激活脚本
```

## 🎯 推荐工作流程

### 对于新用户
1. 运行 `./wildgs_setup.sh` 完成环境搭建
2. 运行 `./quick_test.sh` 验证安装
3. 运行 `python wildgs_benchmark.py --datasets tum_rgbd --download` 测试基准

### 对于研究者
1. 使用 `process_custom_data.py` 处理自己的数据集
2. 运行 SLAM 系统进行实验
3. 使用 `wildgs_benchmark.py` 进行定量评估
4. 分析结果并改进算法

### 对于开发者
1. 修改 WildGS-SLAM 核心代码
2. 创建自定义配置文件
3. 使用基准测试验证改进效果
4. 生成性能对比报告

## 📚 更多资源

- **完整部署指南**: `WildGS-SLAM_完整部署指南.md`
- **论文**: [WildGS-SLAM: Monocular Gaussian Splatting SLAM in Dynamic Environments](https://arxiv.org/abs/2504.03886)
- **GitHub**: https://github.com/GradientSpaces/WildGS-SLAM
- **数据集**: TUM RGB-D, Wild-SLAM, Bonn RGB-D

## ❓ 常见问题

**Q: 安装时出现权限错误？**
A: 确保使用 `sudo` 权限安装系统依赖

**Q: GPU内存不足？**
A: 降低图像分辨率或减少高斯数量

**Q: 相机标定失败？**
A: 确保棋盘格图像清晰，角点检测成功率≥80%

**Q: SLAM跟踪失败？**
A: 检查相机内参是否正确，降低运动速度

**Q: 如何提升精度？**
A: 增加关键帧密度，调整不确定性阈值

## 🤝 获取帮助

- 查看详细日志文件找出具体错误
- 参考完整部署指南解决复杂问题
- 检查 GitHub Issues 获取最新解决方案

---

**祝您使用愉快！如有问题欢迎交流讨论。**